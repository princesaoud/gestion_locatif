@page "/register"

@inject NavigationManager Nav
@inject AuthService Auth

<MudPaper Class="pa-6 mx-auto mt-12" Style="max-width:400px;">
    <MudText Typo="Typo.h5" Class="mb-4">Register</MudText>
    <MudTextField @bind-Value="_user" Label="User" Variant="Variant.Filled" Class="mb-4" />
    <MudTextField @bind-Value="_password" Label="Password" Variant="Variant.Filled" InputType="InputType.Password" Class="mb-4" />
    <MudTextField @bind-Value="_confirm" Label="Confirm Password" Variant="Variant.Filled" InputType="InputType.Password" Class="mb-4" />
    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="OnRegister" FullWidth="true">Register</MudButton>
</MudPaper>

@code {
    private string _user = string.Empty;
    private string _password = string.Empty;
    private string _confirm = string.Empty;

    private void OnRegister()
    {
        Auth.Register(_user, _password);
        Nav.NavigateTo("/dashboard", true);
    }
}
